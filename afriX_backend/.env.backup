# ============================================
# SERVER CONFIGURATION: PORT=5000 On macOS, port 5000 is used by AirPlay Receiver (managed by Control Center), which is why our server is having trouble binding to it.
# ============================================
NODE_ENV=development
PORT=5001
API_VERSION=v1

# Check Status After Starting
# pg_ctl -D /usr/local/var/postgresql@14 status // in tarminal

# To Keep PostgreSQL Running After Reboot
# Currently, PostgreSQL will stop when you close the terminal or reboot. To make it start automatically:
# bash# Add PostgreSQL to your login items (optional)
# brew services start postgresql@14

# ❯ brew services start postgresql@14
# ==> Successfully started `postgresql@14` (label: homebrew.mxcl.postgresql@14)


# Database local (PostgreSQL)
DATABASE_URL=postgresql://user:password@localhost:5432/afritokens
DB_HOST=localhost
DB_PORT=5432
DB_NAME=afritokens
DB_USER=afritoken_user
DB_USER=postgres
DB_PASSWORD=7787

# Pool settings (optional, already have defaults)
DB_POOL_MAX=5
DB_POOL_MIN=0
DB_POOL_ACQUIRE=60000
DB_POOL_IDLE=10000

# Database Selection (Local vs Remote)
# Set to 'true' to use the individual DB_* variables below instead of DATABASE_URL
DB_USE_LOCAL=true
DB_SSL=false

# Database (Railway PostgreSQL) (Use the DATABASE_PUBLIC_URL (not DATABASE_URL from Railway) since your backend runs outside Railway’s private network.)
# DATABASE_URL=postgresql://postgres:vhHhknJhmhblHdjvdSplvrhBpxkWJAnD@caboose.proxy.rlwy.net:39863/railway
# DATABASE_URL=postgresql://postgres:LLwNdyugJteYbNqUTfFnCqkuIsmUspyj@shinkansen.proxy.rlwy.net:57469/railway
# DB_HOST=shinkansen.proxy.rlwy.net
# DB_PORT=39863
# DB_NAME=railway
# DB_USER=postgres
# DB_PASSWORD=LLwNdyugJteYbNqUTfFnCqkuIsmUspyj
# DB_SSL=true
# DB_FORCE_SYNC=false

# Redis local (Development) Use a local Redis for development (brew install redis brew services start redis) 
#REDIS_HOST=127.0.0.1
#REDIS_PORT=6379
#REDIS_SSL=false
#REDIS_USER=
#REDIS_PASSWORD=

#REDIS_SSL=false

# Redis (Railway) (public Redis URL (trolley.proxy.rlwy.net) — the internal URL (redis.railway.internal) only works inside Railway’s network.)
# REDIS_URL=redis://default:uvfkNiinNxCMNFdpEMUmHsTdQagNRYmw@trolley.proxy.rlwy.net:15322
# REDIS_URL=redis://default:uvfkNiinNxCMNFdpEMUmHsTdQagNRYmw@redis.railway.internal:6379
REDIS_HOST=trolley.proxy.rlwy.net
REDIS_PORT=15322
REDIS_USER=default
REDIS_PASSWORD=uvfkNiinNxCMNFdpEMUmHsTdQagNRYmw
REDIS_SSL=true

# Disable Redis for now
REDIS_ENABLED=false

# JWT
JWT_SECRET=your_super_secret_jwt_key_change_this
JWT_REFRESH_SECRET=your_refresh_secret_key
JWT_EXPIRE=24h
JWT_REFRESH_EXPIRE=30d
ADMIN_REGISTRATION_SECRET=your_admin_secret_key_change_this

# Encryption Key (32-byte hex string)
ENCRYPTION_KEY=914ce4aa815e38e72a2fd4c7aa8c2149792a0463a243aeb30a09682e8e147465

# Blockchain (Polygon)
# POLYGON_RPC_URL=https://polygon-rpc.com
POLYGON_RPC_URL=https://rpc-amoy.polygon.technology
POLYGON_CHAIN_ID=137
POLYGON_TESTNET_RPC_URL=https://rpc-mumbai.maticvigil.com
# POLYGON_TESTNET_CHAIN_ID=80001
POLYGON_TESTNET_CHAIN_ID=80002
PRIVATE_KEY=126b7de4e68fcb27191274f22e2001eb9e671fd0c83ab3df0527aea9e8f4330f #from metamask testnet account
TEST_USDT_ADDRESS=0xYourDeployedTokenAddress # Replace with deployed contract: comes from your deploy script output (npx hardhat run scripts/deployTestUSDT.js --network amoy)
# TREASURY_WALLET_ADDRESS=0xYourTreasuryWallet
TREASURY_WALLET_ADDRESS=0x7c26C161F7b3b1b975489DA1a1672a9D9178a16e # Polygon testnet address for treasury

# Smart Contract Addresses (Update after deployment)
NT_TOKEN_ADDRESS=0x...
CT_TOKEN_ADDRESS=0x...
ESCROW_CONTRACT_ADDRESS=0x...
AGENT_REGISTRY_ADDRESS=0x...
SWAP_CONTRACT_ADDRESS=0x...

# Platform Wallet (Hot wallet for gas fees)
PLATFORM_PRIVATE_KEY=0x...
PLATFORM_ADDRESS=0x...

# Cloudflare R2 (Replaces AWS S3)
# R2_ACCOUNT_ID=your_cloudflare_account_id
# R2_ACCESS_KEY_ID=your_r2_access_key
# R2_SECRET_ACCESS_KEY=your_r2_secret_key
# R2_BUCKET_NAME=afritoken-uploads
# R2_PUBLIC_URL=https://pub-xxxxx.r2.dev

# ================================
# R2 Cloudflare Storage Configuration
# ================================

R2_ACCOUNT_ID=11c59324aa996dcaa879444ac86cd84e
R2_ACCESS_KEY_ID=2dc98ce38cb4f27f0c9839bf16a50b20
R2_SECRET_ACCESS_KEY=cc777d11f29f8e6e05e45505442e3b698f85ddc4661da0dd4175396f06e3c44d
R2_BUCKET_NAME=afritoken-uploads
R2_PUBLIC_URL=https://pub-738dd2841eaf43f2a5eb5dae20d915d0.r2.dev
R2_ENDPOINT=https://11c59324aa996dcaa879444ac86cd84e.r2.cloudflarestorage.com

# ================================
# OneSignal Push notifications Configuration
# ================================
ONESIGNAL_APP_ID=your-app-id-here
ONESIGNAL_API_KEY=your-rest-api-key-here

# Cloudflare R2 Configuration
# R2_ACCOUNT_ID=11c59324aa996dcaa879444ac86cd84e
# R2_ACCESS_KEY_ID=44e79daa298460bb45dc7b3e27a09116
# R2_SECRET_ACCESS_KEY=0f61006b4f21aedc302b79024aac7a51241533566b2a82646a76555d6f40e20b
# R2_BUCKET_NAME=afritrade-avatars
# R2_PUBLIC_URL=https://pub-933ea5269afc4fa1ac618b3a1d0d7f16.r2.dev
# R2_ENDPOINT=https://11c59324aa996dcaa879444ac86cd84e.r2.cloudflarestorage.com

# File Upload Configuration
MAX_FILE_SIZE=5242880
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/webp,image/gif


# Cloudflare R2 Configuration
# R2_ACCOUNT_ID=11c59324aa996dcaa879444ac86cd84e
# R2_ACCESS_KEY_ID=your-r2-access-key-id
# R2_SECRET_ACCESS_KEY=your-r2-secret-access-key
# R2_BUCKET_NAME=your-r2-bucket-name
# R2_PUBLIC_URL=https://your-public-domain.com
# R2_ENDPOINT=https://your-account-id.r2.cloudflarestorage.comJWT_SECRET=afritrade-super-secure-jwt-secret-key-2024-production

# Orange Money
# Application_ID=FN35hx7kX0x5SEJ4

# Firebase Admin SDK Configuration
FIREBASE_PROJECT_ID=afrix-notifications
FIREBASE_PRIVATE_KEY=`-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCva1UuTkn6anM5\nYVEoH7A8wpI9w0j/2YQdTJW042HWDWx6Xvp+apVqsCElsSw5yeooktouQvf+dXoO\nioTv3aOJbkq6NSEIwwMuI3KgnFomTI7bHyvxjs3Chc1/Jgp7D/lbwcW81kIl3YmS\n2wO9KHfpl9mlR/OWoGz9hbb053362H2wpMBh6hObU+AfZ3H4J9rzX4sLL3RfMbPi\nNqRTcg1u0mVLT1XfWKVi4ONEBR8AVzDjRgS2z15KAiihWAn/D5G6TvPY7m2krjXQ\nYMZfhuOxeEqOvz2E1f1MVCnMTT2mmxQ5VnaELqvyo/GXZR3xTMyEGE9Ugh/wB0Im\n6Bk8PsE1AgMBAAECggEACM+/a6ALH0URnKRCy10sISE0711L4W4vsLkUHA3/8Byk\nglEbDBaWgtFuGNKZgh2eYYNe6kv64RFNnEVhABuGB3U+07OvgR0qn7qwG1k/PgVC\nd8dNEck2lLrb47Mpe50FzZIiOKYalIRYUMQnn+zUeStjh2Xh2oMcdm+tDQhDz8HS\n04VDSG7tfxBBVNvMNPl4en0oBm7JvVH8mZnGHOGK7SbgJWAMQz3ERml76ZxKGnO2\n4auJ4RITapw9OGf+fNjDt70H5CMvmkGEmhPuOKTMENmaFcAVceMEnvWFdyidp+xo\nf/s/eJM/N/Abz6GuqNdUZqNAOPU1ko19ttD3DRZ9UQKBgQDlN/x6Y6BcCjVvvbAg\nVlBepyxCm7J7ylQJiGdKks2fu96vTnJ7PSP/dLvQiu9SuwEQChfUrc5il7W+TD27\nneCAZzNc32AZupp9AQ6I/oXc+rlCxVetPGywv+glF7gK8jXJCIFCRx4YZmEkX0CS\ncjaiH1Kw8CtNBN/OD+F1Rwq+hwKBgQDD6i+tIeM6rZmWPnqUcw1/Ga6TvkclDeNt\nGsq0/zEKksXicwyhJLEbzpdcg5FPUuGwcvcqY4ZjiUQHrVk5yNLzbI5mDEqJnXhI\nPRU/0p2+a6bZzPf06YC+jX/knRd3t6gjWFtP77YTJQrUtHMQbsHFxOppfvqN4eUt\ndMHAaloVYwKBgEKjhS5bumonuaNTxVmRXmo2NcLjmv8sMkRXOJhQl6EhsDrNFrFH\ndCi3WkblrXAi18s+8/Cr2v2E15yMc8IQwwzxc9hDRKAWRQWkggJH5Mj6x1NnJfdC\nQuMb17S48ZOVGRfp9hI7tL8pPIKjgpVQyRtW+eZg3GXWze4NZeF/ltsPAoGBAIiF\nmAWY2MSaFq35CeiKqDwKxHnWHbO3kuUDx4ALWLxafSUJMSLV88lB1H42fLr/MaCI\n7K4QPqT8EXkcFlJLHJ1e53g7VnHBVwFX94fLF/uK/vFFgQCc+wdOiXHg+mqFg9hl\niPQSQhnjNUH2ITyxQby0NPmg766RXOepNh8EvZOrAoGAISz2I94MIQyRp18Q3+Hj\nxpEHnm83QqqZGHjZay6iia/hH29fkTbrIyWwBjY6kjE/qpwCArQRfaMzlJaqXgdk\n9lqh4p7RfE+xsyGWPwWw2kHeHRlXwur3or6jYyAPhV4gkmS7IrXbNZxigJxQNGcG\nKLCPgoIGeKsU5/fwe/hiY0k=\n-----END PRIVATE KEY-----\n`,
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-fbsvc@afrix-notifications.iam.gserviceaccount.com
   
# Email (Nodemailer + Gmail or SendGrid)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=harunbah93@gmail.com
EMAIL_PASSWORD="zydv uwhm yppk iyzw"
EMAIL_FROM=AfriToken <noreply@afritoken.com>

# admin email
# ADMIN_EMAIL=harzkane@gmail.com


# SMS (Twilio)
TWILIO_ACCOUNT_SID=your_account_sid
TWILIO_AUTH_TOKEN=your_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# CORS CONFIGURATION
# ============================================
CORS_ORIGIN=http://localhost:3000,http://localhost:19006
CORS_CREDENTIALS=true

# ============================================
# FRONTEND URLS
# ============================================
FRONTEND_URL=http://localhost:3000
MOBILE_APP_SCHEME=afritoken://

# ============================================
# EXCHANGE RATE API (CoinGecko)
# ============================================
COINGECKO_API_URL=https://api.coingecko.com/api/v3
COINGECKO_API_KEY=
# Free tier doesn't require API key

# ============================================
# AGENT CONFIGURATION
# ============================================
AGENT_MIN_DEPOSIT_USD=500
AGENT_RECOMMENDED_DEPOSIT_USD=1000
AGENT_PREMIUM_DEPOSIT_USD=2500
AGENT_RATE_DEVIATION_PERCENT=5
# Agents can set rates within ±5% of platform rate

# ============================================
# ESCROW & TRANSACTION CONFIGURATION
# ============================================
ESCROW_TIMEOUT_HOURS=2 # Changed from 0.5 hours (30 min)
AUTO_DISPUTE_DELAY_HOURS=2
TRANSACTION_CLEANUP_DAYS=90

# ============================================
# USER EDUCATION CONFIGURATION
# ============================================
# EDUCATION_REQUIRED=true # remove comment after testings
EDUCATION_PASS_SCORE=80  # Must score 80% on quizzes
EDUCATION_REQUIRED=false

# ============================================
# TERMINOLOGY ENFORCEMENT
# ============================================
TERMINOLOGY_CHECK_ENABLED=true
TERMINOLOGY_LOG_WARNINGS=true
TERMINOLOGY_BLOCK_VIOLATIONS=false
# Set to true in production to block API responses with prohibited terms

# ============================================
# LOGGING CONFIGURATION
# ============================================
LOG_LEVEL=info
LOG_FILE=logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=7

# ============================================
# SECURITY
# ============================================
BCRYPT_ROUNDS=12
PASSWORD_MIN_LENGTH=8
SESSION_SECRET=change_this_session_secret_min_32_chars

# ============================================
# MONITORING (Optional)
# ============================================
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# ============================================
# FEATURE FLAGS
# ============================================
ENABLE_WEBSOCKET=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_SMS_VERIFICATION=false
ENABLE_TWO_FACTOR_AUTH=false
ENABLE_KYC=false

# ============================================
# BUSINESS CONFIGURATION
# ============================================
# Transaction Fees (in percentage)
P2P_TRANSFER_FEE=0.5
TOKEN_SWAP_FEE=1.5
MERCHANT_COLLECTION_FEE=2.0
AGENT_FACILITATION_FEE=1.0

# Transaction Limits (in USD)
USER_DAILY_LIMIT_BASIC=100
USER_DAILY_LIMIT_VERIFIED=500
USER_DAILY_LIMIT_PREMIUM=2000

# ============================================
# DEVELOPMENT HELPERS
# ============================================
DEBUG_MODE=false
MOCK_BLOCKCHAIN=false
# Set to true to mock blockchain calls during development
SKIP_EMAIL_VERIFICATION=false
# Set to true to skip email verification during development